{"version":3,"file":"js/281.0b28ff3b.js","mappings":"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","sources":["webpack://mycms/./src/pages/home/system/user/User.vue?5100","webpack://mycms/./src/pages/home/system/user/config/search.config.ts","webpack://mycms/./src/pages/home/system/user/config/content.config.ts","webpack://mycms/./src/pages/home/system/user/config/modal.config.ts","webpack://mycms/./src/pages/home/system/user/User.vue","webpack://mycms/./src/pages/home/system/user/User.vue?be37"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-main\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PageSearch = _resolveComponent(\"PageSearch\");\n\n  const _component_PageContent = _resolveComponent(\"PageContent\");\n\n  const _component_PageModal = _resolveComponent(\"PageModal\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_PageSearch, {\n    searchFormConf: _ctx.searchFormConf,\n    onResetBtnClick: _ctx.handleResetClick,\n    onSubmitBtnClick: _ctx.handleSubmitClick\n  }, null, 8, [\"searchFormConf\", \"onResetBtnClick\", \"onSubmitBtnClick\"]), _createVNode(_component_PageContent, {\n    contentTableConf: _ctx.contentTableConf,\n    ref: \"pageContentRef\",\n    pageName: \"users\",\n    onNewBtnClick: _ctx.handleNewData,\n    onEditBtnClick: _ctx.handleEditData\n  }, null, 8, [\"contentTableConf\", \"onNewBtnClick\", \"onEditBtnClick\"]), _createVNode(_component_PageModal, {\n    defaultInfo: _ctx.defaultInfo,\n    ref: \"pageModalRef\",\n    pageName: \"users\",\n    modalConfig: _ctx.modalConfRef\n  }, null, 8, [\"defaultInfo\", \"modalConfig\"])]);\n}","import { IForm } from '@/base-ui/form';\n//高级组件配置文件\nexport const searchFormConf: IForm = {\n  //注意labelWidth大小影响item的placeholder内容美观\n  labelWidth: '90px',\n  // colLayout: {\n  //   span: 8\n  // },\n  formItems: [\n    {\n      field: 'id',\n      type: 'input',\n      label: 'ID',\n      placeholder: '请输入ID'\n    },\n    {\n      field: 'name',\n      type: 'input',\n      label: '用户名',\n      placeholder: '请输入用户名'\n    },\n    {\n      field: 'realname',\n      type: 'input',\n      label: '真实姓名',\n      placeholder: '请输入真实姓名'\n    },\n    {\n      field: 'enable',\n      type: 'select',\n      label: '用户状态',\n      placeholder: '请选择用户状态',\n      selectOptions: [\n        { title: '启用', value: 1 },\n        { title: '禁用', value: 0 }\n      ]\n    }\n    //目前该UI组件有性能问题\n    // {\n    //   field: 'createAt',\n    //   type: 'datepicker',\n    //   label: '创建时间',\n    //   otherOptions: {\n    //     startPlaceholder: '开始时间',\n    //     endPlaceholder: '结束时间',\n    //     type: 'daterange'\n    //   }\n    // }\n  ]\n};\n","export const contentTableConf = {\n  title: '用户列表',\n  propList: [\n    { prop: 'name', label: '用户名', minWidth: '100' },\n    { prop: 'realname', label: '真实姓名', minWidth: '100' },\n    { prop: 'cellphone', label: '手机号码', minWidth: '100' },\n    { prop: 'enable', label: '状态', minWidth: '100', slotName: 'status' },\n    {\n      prop: 'createAt',\n      label: '创建时间',\n      minWidth: '250',\n      slotName: 'createAt'\n    },\n    {\n      prop: 'updateAt',\n      label: '更新时间',\n      minWidth: '250',\n      slotName: 'updateAt'\n    },\n    {\n      label: '操作',\n      minWidth: '130',\n      slotName: 'handler'\n    }\n  ],\n  showIndexColumn: true,\n  showSelectColumn: true\n};\n","import { IForm } from '@/base-ui/form';\n\nexport const modalConf: IForm = {\n  formItems: [\n    {\n      field: 'name',\n      type: 'input',\n      label: '用户名',\n      placeholder: '请输入用户名'\n    },\n    {\n      field: 'realname',\n      type: 'input',\n      label: '真实姓名',\n      placeholder: '请输入真实姓名'\n    },\n    {\n      field: 'password',\n      type: 'password',\n      label: '用户密码',\n      placeholder: '请输入密码',\n      isHidden: false\n    },\n    {\n      field: 'cellphone',\n      type: 'input',\n      label: '电话号码',\n      placeholder: '请输入电话号码'\n    },\n    {\n      field: 'departmentId',\n      type: 'select',\n      label: '选择部门',\n      placeholder: '请选择部门',\n      selectOptions: []\n    },\n    {\n      field: 'roleId',\n      type: 'select',\n      label: '选择角色',\n      placeholder: '请选择角色',\n      selectOptions: []\n    }\n  ],\n  colLayout: { span: 24 },\n  itemStyle: {}\n};\n","import { computed, defineComponent } from 'vue';\nimport { searchFormConf } from '@/pages/home/system/user/config/search.config';\nimport PageSearch from '@/components/page-search/src/PageSearch.vue';\nimport { contentTableConf } from '@/pages/home/system/user/config/content.config';\nimport PageContent from '@/components/page-content/src/PageContent.vue';\nimport { usePageSearch } from '@/hooks/usePageSearch';\nimport PageModal from '@/components/page-modal/src/PageModal.vue';\nimport { usePageModal } from '@/hooks/usePageModal';\nimport { modalConf } from '@/pages/home/system/user/config/modal.config';\nimport { useInitRootStore } from '@/stores/modules/root';\nimport { storeToRefs } from 'pinia';\nexport default defineComponent({\n  name: 'User',\n  components: {\n    PageModal,\n    PageContent,\n    PageSearch\n  },\n\n  setup() {\n    //使用hooks注册搜索按钮事件\n    const {\n      pageContentRef,\n      handleResetClick,\n      handleSubmitClick\n    } = usePageSearch(); //hook动态回调，用于特定场景是否展示密码框\n\n    const newCallback = () => {\n      const passwordItem = modalConf.formItems.find(item => {\n        return item.field === 'password';\n      });\n      passwordItem.isHidden = false;\n    };\n\n    const editCallback = () => {\n      const passwordItem = modalConf.formItems.find(item => {\n        return item.field === 'password';\n      });\n      passwordItem.isHidden = false;\n    }; //调用hook\n\n\n    const {\n      pageModalRef,\n      defaultInfo,\n      handleNewData,\n      handleEditData\n    } = usePageModal(newCallback, editCallback); //动态的响应式添加部门和角色列表\n\n    const initRootStore = useInitRootStore();\n    const modalConfRef = computed(() => {\n      //根据配置文件匹配列表\n      const departmentItem = modalConf.formItems.find(item => item.field === 'departmentId');\n      const roleItem = modalConf.formItems.find(item => item.field === 'roleId'); //响应式结构store中对象\n\n      const {\n        entireDepartment,\n        entireRole\n      } = storeToRefs(initRootStore); //赋值\n\n      departmentItem.selectOptions = entireDepartment.value.map(item => {\n        return {\n          title: item.name,\n          value: item.id\n        };\n      });\n      roleItem.selectOptions = entireRole.value.map(item => {\n        return {\n          title: item.name,\n          value: item.id\n        };\n      });\n      return modalConf;\n    });\n    console.log('modalConfRef', modalConfRef);\n    console.log('defaultInfo', defaultInfo.value);\n    return {\n      searchFormConf,\n      contentTableConf,\n      pageContentRef,\n      handleResetClick,\n      handleSubmitClick,\n      pageModalRef,\n      defaultInfo,\n      handleNewData,\n      handleEditData,\n      modalConfRef\n    };\n  }\n\n});","/* unplugin-vue-components disabled */import { render } from \"./User.vue?vue&type=template&id=3a328cb6&ts=true\"\nimport script from \"./User.vue?vue&type=script&lang=ts\"\nexport * from \"./User.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"G:\\\\前端学习\\\\Vue3\\\\cms\\\\mycms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","class","render","_ctx","_cache","$props","$setup","$data","$options","_component_PageSearch","_component_PageContent","_component_PageModal","searchFormConf","onResetBtnClick","handleResetClick","onSubmitBtnClick","handleSubmitClick","contentTableConf","ref","pageName","onNewBtnClick","handleNewData","onEditBtnClick","handleEditData","defaultInfo","modalConfig","modalConfRef","labelWidth","formItems","field","type","label","placeholder","selectOptions","title","value","propList","prop","minWidth","slotName","showIndexColumn","showSelectColumn","modalConf","isHidden","colLayout","span","itemStyle","name","components","PageModal","PageContent","PageSearch","setup","pageContentRef","usePageSearch","newCallback","passwordItem","find","item","editCallback","pageModalRef","usePageModal","initRootStore","departmentItem","roleItem","entireDepartment","entireRole","map","id","console","log","__exports__"],"sourceRoot":""}